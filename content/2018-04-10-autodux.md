+++
title = "Autodux"
description = "”Redux on autopilot“ — Eric Elliott"
+++
[Autodux](https://github.com/ericelliott/autodux) is a library, written by [Eric Elliott](https://ericelliottjs.com/), to help automate Redux boilerplate.

Autodux lets you create everything you need for a Redux app in a handful of lines of code:

```js
const {
  reducer,
  actions,
  selectors
} = autodux({
  initial: {
    username: 'Anonymous',
    email: 'anonymous@example.com'
  }
})
```

In this single call to autodux, you get a Redux reducer and an [action](#actions) and [selector](#selectors) for each key in the `initial` state object.

## Reducer

An autodux reducer is just a standard Redux reducer that's automatically setup to handle autodux actions. It's used like any other Redux reducer:

```js
const { reducer } = autodux({ … })

const store = createStore(reducer)
```

## Actions

A call to autodux returns an `actions` object which contains a function for each key in the `initial` state. For example, using the `initial` state from the above example, we would get setters for `username` and `email` inside the `actions` object:

```js
{
  setUsername: Function,
  setEmail: Function
}
```

When one of these is called, it behaves like any standard Redux action creator, e.g.

```js
actions.setUsername('abcd')

→ {
→   type: '/setUsername',
→   payload: 'abcd'
→ }
```

## Custom actions

As well as the autogenerated actions that autodux creates for you, you can define custom actions with whatever logic you like. For example, to update both username and email at once, we can define a custom action `setBoth`:

```js
const {
  reducer,
  actions,
  selectors
} = autodux({
  initial: {
    username: 'Anonymous',
    email: 'anonymous@example.com'
  },
  actions: {
    setBoth: (state, payload) => ({
      ...state,
      username: payload.username,
      email: payload.email
    })
  }
})
```

These actions will be automatically integrated into the autodux `reducer` and are called like any other action creator:

```js
actions.setBoth({
  username: 'Admin',
  email: 'admin@example.com'
})

→ {
→   type: '/setBoth',
→   payload: {
→     username: 'Admin',
→     email: 'admin@example.com'
→   }
→ }
```

When passed to Redux's `dispatch` function, `setBoth` will update both the `username` and `email` properties of the Redux state:

```js
store.getState()

→ {
→   username: 'Anonymous',
→   email: 'anonymous@example.com'
→ }

store.dispatch(
  actions.setBoth({
    username: 'Admin',
    email: 'admin@example.com'
  })
)

store.getState()

→ {
→   username: 'Admin',
→   email: 'admin@example.com'
→ }
```

## Selectors

A call to autodux also returns a `selectors` object which, like `actions`, contains a function for each key in the `initial` state. These functions are selectors, which means they are functions for retrieving specific parts of the state tree. For example, using the `initial` state from the above example, we would get selectors for `username` and `email`:

```js
selectors.getUsername(state)

→ 'abcd'

selectors.getEmail(state)

→ 'anonymous@example.com'
```

## Custom selectors

Similarly to custom actions, custom selectors can be created too. For example, to select both username and email at once, we can define a custom `getBoth` selector:

```js
const {
  reducer,
  actions,
  selectors
} = autodux({
  initial: {
    username: 'Anonymous',
    email: 'anonymous@example.com'
  },
  selectors: {
    getBoth: state => ({
      username: state.username,
      email: state.email
    })
  }
})
```

When called with the Redux `state`, `getBoth` will return an object with both the `username` and `email` properties from the Redux state:

```js
const state = store.getState()

→ {
→   username: 'Anonymous',
→   email: 'anonymous@example.com'
→ }

selectors.getBoth(state)

→ {
→   username: 'Anonymous',
→   email: 'anonymous@example.com'
→ }
```

## Autodux in action

As an example of converting a Redux app to use autodux, I've created an [example Redux app](https://github.com/imjoehaines/autodux-example/tree/d4a179f8276677e20d2a916dc6b429e6d3015a09) with [a commit converting it to an autodux app](https://github.com/imjoehaines/autodux-example/commit/f4d9f8c80d39d3da9c88506e8b54c2d65d88915f). Most of the existing code stays the same, with the majority of changes being a simplification of the reducer and action creator boilerplate.
